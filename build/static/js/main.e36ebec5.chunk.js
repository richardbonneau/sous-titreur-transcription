(this["webpackJsonpsous-titres"]=this["webpackJsonpsous-titres"]||[]).push([[0],{163:function(e,t,n){},168:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var i,r,a,c,o,s=n(0),u=n(19),l=n.n(u),d=(n(163),n(7)),b=n(10),j=n(8),p="DATA_REQUEST",f="DATA_SUCCESS",h="MODIFY_SINGLE_CAPTION",O="ADD_NEW_CAPTION",m="DELETE_CAPTION",x="CURRENTLY_SELECTED",g="MODIFY_MULTIPLE_CAPTIONS",v="CURRENT_TIME",y=function(e,t){return{type:h,subIndex:t,newCaption:e}},w=function(e){return{type:m,subIndex:e}},_=function(e){return{type:x,subIndex:e}},T="SEEKING",k="VERTICAL_ZOOM",S="HORIZONTAL_ZOOM",C=function(e){return{type:T,seekingTime:e}},E=(n(168),n(11)),I=n(20),N=n(216),R=n(25),z=n(1),M=E.a.div(i||(i=Object(b.a)(["\n  padding: 0.01em;\n  .bp3-card {\n    display: flex;\n    margin: 5px;\n  }\n  .bp3-icon-trash {\n    width: 3em;\n    display: flex;\n    justify-content: center;\n    cursor: pointer;\n    margin: -2em -2em 0 0;\n    padding: 1em;\n    height: 45px;\n  }\n"]))),D=E.a.div(r||(r=Object(b.a)(["\n  font-size: 1.3em;\n  opacity: 0.4;\n  padding-bottom: 0.5em;\n  cursor: pointer;\n"]))),A=E.a.div(a||(a=Object(b.a)(["\n  width: 110px;\n  display: flex;\n  flex-direction: column;\n  .subtime {\n    opacity: 0.5;\n    display: flex;\n  }\n  input {\n    padding-right: 1em;\n    border: none;\n  }\n  input:focus {\n    border: 1px solid black;\n  }\n"]))),F=E.a.div(c||(c=Object(b.a)(["\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  textarea {\n    height: 100%;\n    width: 99%;\n    text-align: center;\n    resize: none;\n    border: none;\n  }\n"]))),L=E.a.div(o||(o=Object(b.a)(["\n  opacity: 0.5;\n"])));var U,Z,X=function(e){var t=e.subIndex,n=e.subData,i=e.openDeleteCaptionDialog,r=Object(j.b)(),a=Object(s.useRef)(),c=Object(s.useState)(!1),o=Object(I.a)(c,2),u=o[0],l=o[1],b=Object(s.useState)(""),p=Object(I.a)(b,2),f=p[0],h=p[1],m=Object(s.useState)(""),x=Object(I.a)(m,2),g=x[0],v=x[1],T=Object(s.useState)(""),k=Object(I.a)(T,2),S=k[0],E=k[1],U=Object(s.useState)([]),Z=Object(I.a)(U,2),X=Z[0],B=Z[1],K=Object(j.c)((function(e){return e.data.present.subtitles})),P=Object(j.c)((function(e){return e.data.present.currentlySelected}));Object(s.useEffect)((function(){var e=n.lines.map((function(e){return e.length}));B(e);var t=n.lines.join("\n");E(t),h(new Date(1e3*n.start).toISOString().substr(11,12)),v(new Date(1e3*n.end).toISOString().substr(11,12))}),[K]),Object(s.useEffect)((function(){P===t&&a.current.scrollIntoView({behavior:"smooth"})}),[P]);var V=function(e){var t=e.split(":");return 3600*t[0]+60*t[1]+ +t[2]},H=function(){var e,i,a=V(f),c=V(g),o=t>0?K[t-1].end:0,s=t<K.length-1?K[t+1].start:9999;e=a>o&&a<n.end?a:a>n.end?n.end:o,i=c<s&&c>n.start?c:c<n.start?n.start:s;var u=Object(d.a)({},n);isNaN(e)||(u.start=e),isNaN(i)||(u.end=i),r(y(u,t))},W=function(e){"Enter"===e.key&&H()};return Object(z.jsx)(M,{ref:a,children:Object(z.jsxs)(N.b,{elevation:R.a.ONE,style:P===t?{border:"2px solid black"}:{},onClick:function(){r(_(t)),r(C(n.start+1e-4))},children:[Object(z.jsxs)(A,{children:[Object(z.jsx)(D,{children:t+1}),Object(z.jsxs)("div",{className:"subtime",children:[Object(z.jsx)(N.d,{icon:"double-chevron-right"}),Object(z.jsx)("input",{value:f,onKeyUp:W,onChange:function(e){return h(e.target.value)},onBlur:H})]}),Object(z.jsxs)("div",{className:"subtime",children:[Object(z.jsx)(N.d,{icon:"double-chevron-left"}),Object(z.jsx)("input",{value:g,onKeyUp:W,onChange:function(e){return v(e.target.value)},onBlur:H})]})]}),Object(z.jsx)(F,{children:Object(z.jsx)("textarea",{onKeyDown:function(e){var i=n.lines.join("\n");if("Shift"===e.key)l(!0);else if(u||"Enter"!==e.key)"Backspace"===e.key&&""===S&&r(w(t));else{e.preventDefault();var a=i.substr(0,e.target.selectionStart).split("\n"),c=i.substr(e.target.selectionStart).split("\n");r(function(e,t,n){return{type:O,oldCaption:e,subIndex:n,newCaption:t}}(a,c,t))}},onKeyUp:function(e){"Shift"===e.key&&l(!1)},type:"text",onChange:function(e){return E(e.target.value)},onBlur:function(){var e=S.split("\n"),i=Object(d.a)(Object(d.a)({},n),{},{lines:e});r(y(i,t))},value:S})}),Object(z.jsx)(L,{children:X.map((function(e,t){return Object(z.jsx)("div",{children:e},"char"+t)}))}),Object(z.jsx)(N.d,{icon:"trash",onClick:function(){return i(t)}})]})})},B=E.a.div(U||(U=Object(b.a)(["\n  width: 100%;\n  min-width: 600px;\n  height: 100%;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  flex: 1;\n"]))),K=E.a.div(Z||(Z=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 30px;\n  button {\n    margin: 1em;\n  }\n"])));var P,V,H=function(){var e=Object(j.b)(),t=Object(s.useState)(!1),n=Object(I.a)(t,2),i=n[0],r=n[1],a=Object(s.useState)(null),c=Object(I.a)(a,2),o=c[0],u=c[1],l=Object(j.c)((function(e){return e.data.present.subtitles})),d=function(e){u(e),r(!0)};return Object(z.jsxs)(B,{children:[l.map((function(e,t){return Object(z.jsx)(X,{subIndex:t,subData:e,openDeleteCaptionDialog:d},"sub"+t)})),Object(z.jsx)(N.c,{icon:"info-sign",onClose:function(){return r(!1)},title:"Supprimer ce sous-titre",isOpen:i,children:Object(z.jsxs)(K,{children:[Object(z.jsx)("div",{children:"\xcates-vous s\xfbr de vouloir supprimer ce sous-titre?"}),Object(z.jsxs)("div",{children:[Object(z.jsx)(N.a,{intent:"success",onClick:function(){r(!1),e(w(o))},children:"Oui"}),Object(z.jsx)(N.a,{intent:"danger",onClick:function(){return r(!1)},children:"Non"})]})]})})]})},W=n(108),G=n.n(W);function J(e){e.draggable=!0,this._options=e}function Y(e){return new J(e)}J.prototype.init=function(e){var t=this._options.startMarker?0:-15,n=this._options.startMarker?-24:24,i=this._options.startMarker?this._options.segment.startTime:this._options.segment.endTime;this._label=new window.Konva.Text({x:n,y:0,text:this._options.layer.formatTime(i),fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"center"}),this._label.hide(),this._handle=new window.Konva.Rect({x:t,y:0,width:15,height:30,fill:this._options.color,stroke:this._options.color,strokeWidth:1}),this._caption=new window.Konva.Text({x:n+40,y:15,text:this._options.segment._id+1+": "+this._options.segment.attributes.label,fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"left"}),this._line=new window.Konva.Line({x:0,y:0,stroke:this._options.color,strokeWidth:1}),e.add(this._label),e.add(this._line),e.add(this._handle),this._options.startMarker&&e.add(this._caption),this.fitToView(),this.bindEventHandlers(e)},J.prototype.bindEventHandlers=function(e){var t=this;setTimeout((function(){t.resizeCaption(),function(e,t){t.attrs.dragBoundFunc=function(e){return function(t){e.resizeCaption();var n=e._options.layer._segmentShapes[e._options.segment._id].getStartMarker(),i=e._options.layer._segmentShapes[e._options.segment._id].getEndMarker(),r=e._options.layer._segmentShapes[e._options.segment._id+1],a={min:0,max:9999};if(e._options.startMarker){var c=e._options.layer._segmentShapes[e._options.segment._id-1];i&&(a.max=i.getX()-i.getWidth()),c&&(a.min=c.getStartMarker().getX(),c.getEndMarker().getX()>=t.x&&t.x>a.min&&(c.getEndMarker().setX(t.x),c._segment._setEndTime(c._view.pixelsToTime(c._view.getFrameOffset()+t.x)),c.getEndMarker()._marker.resizeCaption()))}else n&&(a.min=n.getX()+n.getWidth()),r&&(a.max=r.getEndMarker().getX(),r.getStartMarker().getX()<=t.x&&t.x<a.max&&(r.getStartMarker().setX(t.x),r._segment._setStartTime(r._view.pixelsToTime(r._view.getFrameOffset()+t.x)),r.getStartMarker()._marker.resizeCaption()));return{x:t.x>a.max?a.max:t.x<a.min?a.min:t.x,y:0}}}(e)}(t,e)}),50)},J.prototype.resizeCaption=function(){var e=this._options.layer._segmentShapes[this._options.segment._id];if(e){var t=e.getStartMarker(),n=e.getEndMarker(),i=t._group.children[3];i&&i.setWidth(n.getX()-t.getX()-30),this._options.layer.draw()}},J.prototype.fitToView=function(){var e=this._options.layer.getHeight();this._label.y(e/2-5),this._handle.y(e/2-10.5),this._line.points([.5,0,.5,e])},J.prototype.timeUpdated=function(e){this._label.setText(this._options.layer.formatTime(e))};var q=E.a.div(P||(P=Object(b.a)(["\n  height: 240px;\n  width: 100%;\n  .bp3-spinner {\n    position: absolute;\n    transform: translate(50vw, 50%);\n  }\n  .zoomview-container {\n    box-shadow: 3px 3px 20px #919191;\n    -moz-box-shadow: 3px 3px 20px #919191;\n    -webkit-box-shadow: 3px 3px 20px #919191;\n    margin: 5px 0;\n    line-height: 0;\n  }\n\n  .overview-container {\n    box-shadow: 3px 3px 20px #919191;\n    -moz-box-shadow: 3px 3px 20px #919191;\n    -webkit-box-shadow: 3px 3px 20px #919191;\n    line-height: 0;\n    height: 85px;\n  }\n"]))),Q=E.a.div(V||(V=Object(b.a)(["\n  width: 100%;\n  height: 100%;\n  background: #ced9e0;\n  z-index: 100;\n  position: fixed;\n"])));var $,ee=function(){var e=Object(j.b)(),t=Object(s.useState)(!1),n=Object(I.a)(t,2),i=n[0],r=n[1],a=Object(j.c)((function(e){return e.data.present.peaksUrl})),c=Object(j.c)((function(e){return e.media.verticalZoom})),o=Object(j.c)((function(e){return e.media.horizontalZoom})),u=Object(j.c)((function(e){return e.data.present.currentlySelected})),l=Object(j.c)((function(e){return e.data.present.subtitles})),b=Object(s.useRef)(),p=Object(s.useRef)(),f=Object(s.useRef)(),h=Object(s.useRef)(),O=Object(s.useRef)(),m=Object(s.useRef)();Object(s.useEffect)((function(){a&&v()}),[a]),Object(s.useEffect)((function(){b.current&&b.current.views.getView("zoomview").setAmplitudeScale(c)}),[c]),Object(s.useEffect)((function(){b.current&&(b.current.zoom.setZoom(o),b.current.segments.removeAll(),x())}),[o]),Object(s.useEffect)((function(){O.current=l}),[l]),Object(s.useEffect)((function(){m.current=u}),[u]),Object(s.useEffect)((function(){if(b.current){var e=b.current.segments.getSegments();e.length!==l.length?x():l.forEach((function(t,n){var i=null;t.start!==e[n].startTime?i={startTime:t.start}:t.end!==e[n].endTime?i={endTime:t.end}:t.lines.join("\n")!==e[n].attributes.label&&(i={attributes:{label:t.lines.join("\n")}}),i&&e[n].update(i)}))}}),[l]);var x=function(){b.current.segments.removeAll(),b.current.segments.add(l.map((function(e,t){return{startTime:e.start,endTime:e.end,editable:!0,id:t,attributes:{label:e.lines.join("\n"),visibleMarkers:!1}}})))},v=function(){h.current=document.querySelector(".video-react-video");var e={containers:{overview:f.current,zoomview:p.current},mediaElement:h.current,dataUri:{arraybuffer:a},zoomLevels:[256,512,1024,2048,4096],keyboard:!0,logger:console.error.bind(console),randomizeSegmentColor:!1,zoomWaveformColor:"#6a6a6a",segmentColor:"#f8f8f8",segmentStartMarkerColor:"#00ff11",segmentEndMarkerColor:"#ff0000",overviewHighlightColor:"blue",emitCueEvents:!0,height:150};G.a.init(e,(function(e,t){e&&console.error("err",e),b.current=t,t.options.createSegmentMarker=Y,t.on("segments.enter",w),t.on("segments.dragend",y),x(),r(!0)}))},y=function(t,n){var i=n?t.id-1:t.id+1,r=t._peaks.segments._segmentsById[i],a=[];if(r)if(n){if(r.endTime<O.current[i].end){var c=Object(d.a)({},O.current[i]);c.end=r.endTime,a.push({newCaption:c,index:i})}}else if(r.startTime>O.current[i].start){var o=Object(d.a)({},O.current[i]);o.start=r.startTime,a.push({newCaption:o,index:i})}var s=Object(d.a)({},O.current[t.id]);s.start=t._startTime,s.end=t.endTime,a.push({newCaption:s,index:t.id}),e({type:g,newCaptions:a})},w=function(t){t.id!==m.current&&e(_(t.id))};return Object(z.jsxs)(q,{children:[!i&&Object(z.jsx)(Q,{children:Object(z.jsx)(N.h,{})}),Object(z.jsx)("div",{className:"zoomview-container",ref:p}),Object(z.jsx)("div",{className:"overview-container",ref:f})]})},te=E.a.div($||($=Object(b.a)(["\n  background: #ced9e0;\n  width: 100%;\n\n  @media (min-width: 1040px) {\n    display: block;\n  }\n"])));var ne,ie=function(){return Object(z.jsx)(te,{children:Object(z.jsx)(ee,{})})},re=n(33),ae=n(35),ce=E.a.div(ne||(ne=Object(b.a)(["\n  margin-bottom: 0.5em;\n  .bp3-navbar {\n    background-color: #293742;\n    color: white;\n  }\n  .bp3-button {\n    color: white;\n    border: 1px solid white;\n    margin: 0 5px;\n    span {\n      color: white;\n    }\n  }\n"])));var oe,se=function(){var e=Object(s.useState)([]),t=Object(I.a)(e,2),n=t[0],i=t[1],r=Object(j.c)((function(e){return e.data.present.ident})),a=Object(j.c)((function(e){return e.data.present.subtitles})),c=Object(j.c)((function(e){return e.data.present.currentTime}));Object(ae.a)("ctrl+s",(function(e){e.preventDefault(),console.log("ctrl save"),o()})),Object(ae.a)("command+s",(function(e){e.preventDefault(),console.log("save command"),o()}));var o=function(){fetch("https://api.soustitreur.com/customer/save-srt",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"post",body:JSON.stringify({ident:r,subtitles:a})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))};return Object(z.jsxs)(ce,{children:[Object(z.jsxs)(N.f,{children:[Object(z.jsx)(N.f.Group,{align:re.a.LEFT,children:Object(z.jsx)(N.f.Heading,{children:"Sous-Titreur"})}),Object(z.jsxs)(N.f.Group,{align:re.a.RIGHT,children:[Object(z.jsx)(N.a,{outlined:!0,icon:"upload",text:"Partager",onClick:function(){var e=window.location.href.split("&time=")[0];navigator.clipboard.writeText("".concat(e,"&time=").concat(c)),i([Object(z.jsx)(N.i,{message:"Le lien est maintenant dans le presse-papier",timeout:3e3,onDismiss:function(){return i([])},intent:"primary"})])}}),Object(z.jsx)(N.a,{outlined:!0,icon:"floppy-disk",text:"Sauvegarder",onClick:o})]})]}),Object(z.jsx)(N.j,{children:n})]})},ue=n(26),le=n.n(ue),de=n(109),be=n(54),je=E.a.div(oe||(oe=Object(b.a)(["\n  max-width: 400px;\n  padding: 0 1em;\n  width: 100%;\n  @media (min-width: 1000px) {\n    max-width: 600px;\n  }\n"])));var pe,fe,he,Oe,me=function(e){var t=e.playbackSpeed,n=Object(j.b)(),i=Object(s.useRef)(),r=Object(s.useRef)(),a=Object(j.c)((function(e){return e.data.present.videoUrl})),c=Object(j.c)((function(e){return e.data.present.subtitles})),o=Object(j.c)((function(e){return e.media.seekingTime}));return Object(ae.a)("ctrl+space",(function(){return r.current?i.current.pause():i.current.play()}),{enableOnTags:["TEXTAREA"]}),Object(s.useEffect)((function(){i.current.subscribeToStateChange((function(e){var t;r.current!==!e.paused&&(r.current=!e.paused),n((t=e.currentTime,{type:v,time:t}))}))}),[]),Object(s.useEffect)((function(){if(i.current){var e,t=i.current.video.video,n=Object(de.a)(t.textTracks);try{for(n.s();!(e=n.n()).done;){e.value.mode="disabled"}}catch(a){n.e(a)}finally{n.f()}var r=t.addTextTrack("captions");r.mode="showing",c.forEach((function(e){var t=new VTTCue(e.start,e.end,e.lines.join("\n"));r.addCue(t)}))}}),[c]),Object(s.useEffect)((function(){0!==o&&i.current.seek(o)}),[o]),Object(s.useEffect)((function(){i.current.playbackRate=t}),[t]),Object(z.jsx)(je,{children:Object(z.jsxs)(be.Player,{ref:i,aspectRatio:"16:9",children:[Object(z.jsx)("source",{src:a}),Object(z.jsx)(be.ControlBar,{})]})})},xe=E.a.div(pe||(pe=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  flex: 1;\n"]))),ge=E.a.div(fe||(fe=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  padding: 1em 0;\n\n  flex-wrap: wrap;\n\n  justify-content: space-around;\n\n  input{\n    margin-top: 6px;\n  }\n\n  .bp3-label{\n    margin-left: 5px;\n    margin-right: 5px;\n  }\n  .undo-redo {\n    display:flex;\n    flex-direction:column;\n    button{\n      margin-top: 5px;\n    }\n  }\n"]))),ve=E.a.div(he||(he=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),ye=E.a.div(Oe||(Oe=Object(b.a)(["\n  display: flex;\n\n  padding: 1em;\n\n  justify-content: space-around;\n  .shortcut-label {\n    font-size: 10px;\n    border-bottom: 1px solid black;\n    text-align: center;\n  }\n  .shortcut-key {\n    margin-bottom: 1em;\n    text-align: center;\n  }\n"])));var we,_e,Te=function(){var e=Object(j.b)(),t=Object(s.useState)(1),n=Object(I.a)(t,2),i=n[0],r=n[1],a=Object(s.useState)(0),c=Object(I.a)(a,2),o=c[0],u=c[1],l=Object(s.useState)(0),d=Object(I.a)(l,2),b=d[0],p=d[1],f=Object(s.useState)(!1),h=Object(I.a)(f,2),O=(h[0],h[1],Object(s.useState)("")),m=Object(I.a)(O,2),x=m[0],g=m[1],v=Object(s.useState)(-1),y=Object(I.a)(v,2),w=y[0],T=y[1],C=Object(j.c)((function(e){return e.data.present.subtitles}));return Object(j.c)((function(e){return console.log(e)})),Object(s.useEffect)((function(){e(ue.ActionCreators.clearHistory())}),[]),Object(z.jsxs)(xe,{children:[Object(z.jsx)(me,{playbackSpeed:i}),Object(z.jsxs)(ve,{children:[Object(z.jsxs)(ge,{children:[Object(z.jsxs)(N.e,{className:"undo-redo",children:["D\xe9faire",Object(z.jsx)(N.a,{icon:"undo",onClick:function(){console.log("undo aweille"),e(ue.ActionCreators.undo())}})]}),Object(z.jsxs)(N.e,{className:"undo-redo",children:["Refaire",Object(z.jsx)(N.a,{icon:"redo",onClick:function(){return e(ue.ActionCreators.redo())}})]}),Object(z.jsxs)(N.e,{children:["Vitesse",Object(z.jsx)("div",{class:"bp3-select .modifier",children:Object(z.jsxs)("select",{onChange:function(e){return r(e.target.value)},children:[Object(z.jsx)("option",{value:.5,children:"0.5x"}),Object(z.jsx)("option",{selected:!0,value:1,children:"1x"}),Object(z.jsx)("option",{value:1.5,children:"1.5x"})]})})]}),Object(z.jsx)("div",{children:Object(z.jsxs)(N.e,{children:["Recherche",Object(z.jsx)("div",{}),Object(z.jsx)("input",{value:x,onChange:function(e){g(e.target.value),T(-1)},onKeyUp:function(t){return"Enter"===t.key?function(){var t;C.forEach((function(e,n){!t&&n>w&&-1!==e.lines.join("\n").toLowerCase().search(x.toLowerCase())&&(t=n,T(n))})),t||T(-1),e(_(t))}():null}})]})}),Object(z.jsxs)(N.e,{children:["Zoom Vertical",Object(z.jsx)(N.g,{min:0,max:4,labelValues:[],stepSize:1,onRelease:function(t){return e({type:k,newZoom:t+1})},onChange:function(e){return u(e)},value:o})]}),Object(z.jsxs)(N.e,{children:["Zoom Horizontal",Object(z.jsx)(N.g,{min:0,max:4,labelValues:[],stepSize:1,onRelease:function(t){return e({type:S,newZoom:t})},onChange:function(e){return p(e)},value:b})]})]}),Object(z.jsxs)(ye,{children:[Object(z.jsxs)("div",{children:[" ",Object(z.jsx)("div",{className:"shortcut-label",children:"Jouer/Pauser la vid\xe9o"}),Object(z.jsx)("div",{className:"shortcut-key",children:"CTRL + Espace"})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{className:"shortcut-label",children:"Bouger la chronologie globale de gauche \xe0 droite"}),Object(z.jsx)("div",{className:"shortcut-key",children:"Fl\xe8ches gauche et droite"})]})]})]})]})},ke=E.a.div(we||(we=Object(b.a)(["\n  \n"]))),Se=E.a.div(_e||(_e=Object(b.a)(["\n  display: flex;\n\n  height: calc(100vh - 303px);\n\n  align-items: center;\n  flex-direction: row;\n\n  align-items: flex-start;\n"])));var Ce=function(){var e=Object(j.b)();return Object(s.useEffect)((function(){var t=window.location.href.split("/"),n=t[t.length-1];console.log("ident: ",n),e({type:p}),fetch("https://api.soustitreur.com/customer/get-srt",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"post",body:JSON.stringify({ident:n})}).then((function(e){return e.json()})).then((function(t){if(console.log("body",t),e(function(e){return{type:f,data:e}}(Object(d.a)(Object(d.a)({},t.data),{},{ident:n}))),window.location.href.includes("&time=")){var i=window.location.href.split("&time="),r=Number(i[1]);e(C(r))}}))}),[]),Object(z.jsxs)(ke,{children:[Object(z.jsx)(se,{}),Object(z.jsxs)(Se,{children:[" ",Object(z.jsx)(H,{}),Object(z.jsx)(Te,{})]}),Object(z.jsx)(ie,{})]})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),a(e),c(e)}))},Ie=n(24),Ne=n(40),Re=Object(Ie.combineReducers)({data:le()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,ident:"",peaksUrl:null,videoUrl:null,subtitles:[],vttFile:null,currentlySelected:null,currentTime:0,waveformData:[]},t=arguments.length>1?arguments[1]:void 0;switch(console.log("action.type",t.type),t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{isFetching:!0});case f:return Object(d.a)(Object(d.a)({},e),{},{isFetching:!1,peaksUrl:t.data.waveform,videoUrl:t.data.videolink,subtitles:t.data.subtitles,ident:t.data.ident,waveformData:t.data.waveformobj});case h:var n=Object(Ne.a)(e.subtitles);return n[t.subIndex]=t.newCaption,Object(d.a)(Object(d.a)({},e),{},{subtitles:n});case g:var i=Object(Ne.a)(e.subtitles);return t.newCaptions.forEach((function(e){i[e.index]=e.newCaption})),Object(d.a)(Object(d.a)({},e),{},{subtitles:i});case O:var r=Object(Ne.a)(e.subtitles),a=r[t.subIndex].start,c=r[t.subIndex].end,o=0;o=e.currentTime>a&&e.currentTime<c?e.currentTime:(c-a)/2+a;var s={start:r[t.subIndex].start,end:o,lines:t.oldCaption},u={start:o,end:c,lines:t.newCaption};return r[t.subIndex]=s,r.splice(t.subIndex+1,0,u),Object(d.a)(Object(d.a)({},e),{},{subtitles:r});case m:var l=e.subtitles.filter((function(e,n){return n!==t.subIndex}));return Object(d.a)(Object(d.a)({},e),{},{subtitles:l});case x:return Object(d.a)(Object(d.a)({},e),{},{currentlySelected:t.subIndex});case v:return Object(d.a)(Object(d.a)({},e),{},{currentTime:t.time});default:return e}}),{limit:10,filter:Object(ue.excludeAction)(["CURRENT_TIME","CURRENTLY_SELECTED"])}),media:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{seekingTime:0,horizontalZoom:0,verticalZoom:0,currentTime:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{seekingTime:t.seekingTime});case k:return Object(d.a)(Object(d.a)({},e),{},{verticalZoom:t.newZoom});case S:return Object(d.a)(Object(d.a)({},e),{},{horizontalZoom:t.newZoom});default:return e}}}),ze=n(110),Me=Object(Ie.createStore)(Re,void 0,Object(ze.composeWithDevTools)());n(209),n(210),n(211),n(212);l.a.render(Object(z.jsx)(j.a,{store:Me,children:Object(z.jsx)(Ce,{})}),document.getElementById("root")),Ee()}},[[213,1,2]]]);
//# sourceMappingURL=main.e36ebec5.chunk.js.map